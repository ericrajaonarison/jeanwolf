<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RADIO</title>
<style>
    * { margin:0; padding:0; box-sizing:border-box; text-transform: uppercase; }
    html, body { width:100%; height:100%; overflow:hidden; background:#000; font-family: Helvetica, Arial, sans-serif; }
    .radio-text { position: fixed; top:40px; left:40px; font-weight:900; font-size:80px; color:#fff; letter-spacing:-2px; line-height:1; opacity:0.95; z-index:100; pointer-events:none; }
    .scene { position: fixed; top:0; left:0; width:100%; height:100%; display:flex; justify-content:center; align-items:center; perspective:1200px; transform-style: preserve-3d; }
    .cube-container { position: relative; width:400px; height:400px; transform-style: preserve-3d; transform-origin: center center; transition: transform 0.6s ease; }
    .cube-face { position:absolute; width:100%; height:100%; background:#ff0000; display:flex; justify-content:center; align-items:center; overflow:hidden; backface-visibility:hidden; pointer-events:none; }
    .player-container { position: relative; width:660px; height:450px; pointer-events:auto; transform-origin:center center; transform: scale(0.65); }
    .player-container.flipped { transform: scale(0.65) rotate(180deg); }
    .player-iframe { width:100%; height:100%; border:none; background:transparent; border-radius:10px; pointer-events:auto; }

    .cube-face-front  { transform: rotateY(0deg) translateZ(200px); }
    .cube-face-back   { transform: rotateY(180deg) translateZ(200px); }
    .cube-face-right  { transform: rotateY(90deg) translateZ(200px); }
    .cube-face-left   { transform: rotateY(-90deg) translateZ(200px); }
    .cube-face-top    { transform: rotateX(90deg) translateZ(200px); }
    .cube-face-bottom { transform: rotateX(-90deg) translateZ(200px); }

    .number-nav { position: fixed; bottom:40px; left:0; right:0; display:flex; justify-content:center; gap:30px; z-index:100; }
    .number-btn { color:#fff; font-size:24px; font-weight:400; background:none; border:none; cursor:pointer; border-bottom:2px solid transparent; transition: font-weight 0.2s, border-color 0.2s; }
    .number-btn:hover { border-bottom:2px solid #fff; }
    .number-btn.active { font-weight:900; border-bottom:2px solid #fff; }

    .mobile-container { display:none; position:fixed; top:0; left:0; width:100%; height:100%; overflow-y:auto; background:#000; z-index:1000; padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom); }
    .mobile-header { padding:20px; padding-top:100px; padding-bottom:30px; }
    .mobile-header .radio-text { position: static; font-size:70px; margin-bottom:20px; text-shadow:0 0 1px white, 0 0 2px rgba(255,255,255,0.7); }
    .mobile-playlist-list { padding:0 20px 40px 20px; }
    .mobile-playlist-btn { display:block; width:100%; color:#fff; font-size:28px; font-weight:400; background:none; border:none; text-align:left; padding:20px 0; margin-bottom:10px; cursor:pointer; transition: font-weight 0.2s; }
    .mobile-playlist-btn:hover, .mobile-playlist-btn.active { font-weight:900; }

    .mobile-carousel-container { position: fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:1001; display:none; padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom); overflow:hidden; }
    .mobile-carousel-header { padding:20px; display:flex; align-items:center; justify-content:space-between; position:relative; z-index:10; }
    .mobile-carousel-title { color:#fff; font-size:24px; text-align:center; flex:1; }
    .mobile-carousel-back-btn { color:#fff; font-size:18px; background:none; border:none; cursor:pointer; padding:10px 0; }
    .mobile-carousel { position:relative; width:100%; height:calc(100% - 70px); overflow:hidden; }
    .mobile-carousel-track { display:flex; height:100%; transition: transform 0.6s ease; width:100%; }
    .mobile-carousel-slide { flex:0 0 100%; height:100%; display:flex; justify-content:center; align-items:center; padding:20px; position:relative; touch-action: pan-y; }
    .mobile-carousel-iframe { width:100%; height:100%; max-width:660px; max-height:450px; border:none; background:transparent; border-radius:10px; pointer-events:auto; }

    .mobile-carousel-indicators { position:absolute; bottom:20px; left:0; right:0; display:flex; justify-content:center; gap:10px; z-index:10; }
    .mobile-carousel-indicator { width:8px; height:8px; border-radius:50%; background: rgba(255,255,255,0.3); border:none; cursor:pointer; padding:0; transition: background 0.3s, transform 0.3s; pointer-events:auto; }
    .mobile-carousel-indicator.active { background: rgba(255,255,255,0.9); transform: scale(1.2); }

    @media (min-width: 769px) {
        .cube-container { width:500px; height:500px; }
        .player-container { transform: scale(0.75); }
        .player-container.flipped { transform: scale(0.75) rotate(180deg); }
        .cube-face-front  { transform: rotateY(0deg) translateZ(250px); }
        .cube-face-back   { transform: rotateY(180deg) translateZ(250px); }
        .cube-face-right  { transform: rotateY(90deg) translateZ(250px); }
        .cube-face-left   { transform: rotateY(-90deg) translateZ(250px); }
        .cube-face-top    { transform: rotateX(90deg) translateZ(250px); }
        .cube-face-bottom { transform: rotateX(-90deg) translateZ(250px); }
    }

    @media (max-width: 768px) {
        .scene, .number-nav, .radio-text { display:none !important; }
        .mobile-container { display:block; }
        @media (max-height:700px) { .mobile-header { padding-top:80px; } .mobile-header .radio-text { font-size:60px; } .mobile-playlist-btn { font-size:24px; padding:15px 0; } .mobile-carousel-slide { padding:15px; } }
        @media (max-height:600px) { .mobile-header { padding-top:60px; } .mobile-header .radio-text { font-size:50px; margin-bottom:10px; } .mobile-playlist-btn { font-size:22px; padding:12px 0; } .mobile-carousel-slide { padding:10px; } .mobile-carousel-iframe { max-height:380px; } }
        @media (orientation: landscape) and (max-height:500px) { .mobile-carousel-slide { padding:5px; } .mobile-carousel-iframe { max-height:320px; } .mobile-carousel-indicators { bottom:10px; } }
    }

    ::-webkit-scrollbar { display:none; }
</style>
</head>
<body>
<div class="radio-text">RADIO</div>

<div class="scene" id="scene">
    <div class="cube-container" id="cubeContainer">
        <div class="cube-face cube-face-front">
            <div class="player-container">
                <iframe allow="autoplay *; encrypted-media *;" class="player-iframe" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/de/playlist/radio-1/pl.u-55D6ZNlH65KbDqe?l=en"></iframe>
            </div>
        </div>
        <div class="cube-face cube-face-left">
            <div class="player-container">
                <iframe allow="autoplay *; encrypted-media *;" class="player-iframe" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/de/playlist/radio-2/pl.u-pMylgxvSWJVDZ9j?l=en"></iframe>
            </div>
        </div>
        <div class="cube-face cube-face-back">
            <div class="player-container">
                <iframe allow="autoplay *; encrypted-media *;" class="player-iframe" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/de/playlist/radio-3/pl.u-zPyLl9Rue01ypmo?l=en"></iframe>
            </div>
        </div>
        <div class="cube-face cube-face-right">
            <div class="player-container">
                <iframe allow="autoplay *; encrypted-media *;" class="player-iframe" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/de/playlist/radio-4/pl.u-qxylEY6s3maARZy?l=en"></iframe>
            </div>
        </div>
        <div class="cube-face cube-face-top">
            <div class="player-container">
                <iframe allow="autoplay *; encrypted-media *;" class="player-iframe" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/de/playlist/radio-5/pl.u-4JomaBmCJLE6Zg0?l=en"></iframe>
            </div>
        </div>
        <div class="cube-face cube-face-bottom">
            <div class="player-container">
                <iframe allow="autoplay *; encrypted-media *;" class="player-iframe" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/de/playlist/radio-6/pl.u-55D6Zq7I65KbDqe?l=en"></iframe>
            </div>
        </div>
    </div>
</div>

<div class="number-nav" id="numberNav">
    <button class="number-btn active" onclick="radioCube.rotateToFace(0)">1</button>
    <button class="number-btn" onclick="radioCube.rotateToFace(1)">2</button>
    <button class="number-btn" onclick="radioCube.rotateToFace(2)">3</button>
    <button class="number-btn" onclick="radioCube.rotateToFace(3)">4</button>
    <button class="number-btn" onclick="radioCube.rotateToFace(4)">5</button>
    <button class="number-btn" onclick="radioCube.rotateToFace(5)">6</button>
</div>

<div class="mobile-container" id="mobileContainer">
    <div class="mobile-header">
        <div class="radio-text">RADIO</div>
    </div>
    <div class="mobile-playlist-list">
        <button class="mobile-playlist-btn active" data-index="0">RADIO 1</button>
        <button class="mobile-playlist-btn" data-index="1">RADIO 2</button>
        <button class="mobile-playlist-btn" data-index="2">RADIO 3</button>
        <button class="mobile-playlist-btn" data-index="3">RADIO 4</button>
        <button class="mobile-playlist-btn" data-index="4">RADIO 5</button>
        <button class="mobile-playlist-btn" data-index="5">RADIO 6</button>
    </div>
</div>

<div class="mobile-carousel-container" id="mobileCarouselContainer">
    <div class="mobile-carousel-header">
        <button class="mobile-carousel-back-btn" id="mobileCarouselBackBtn">BACK</button>
        <div class="mobile-carousel-title" id="mobileCarouselTitle">RADIO 1</div>
        <div style="width:60px;"></div>
    </div>
    <div class="mobile-carousel" id="mobileCarousel">
        <div class="mobile-carousel-track" id="mobileCarouselTrack"></div>
        <div class="mobile-carousel-indicators" id="mobileCarouselIndicators"></div>
    </div>
</div>

<script>
class RadioCube {
    constructor() {
        this.cubeContainer = document.getElementById('cubeContainer');
        this.numberNav = document.getElementById('numberNav');
        this.mobileContainer = document.getElementById('mobileContainer');
        this.mobilePlaylistBtns = document.querySelectorAll('.mobile-playlist-btn');

        this.mobileCarouselContainer = document.getElementById('mobileCarouselContainer');
        this.mobileCarouselBackBtn = document.getElementById('mobileCarouselBackBtn');
        this.mobileCarouselTitle = document.getElementById('mobileCarouselTitle');
        this.mobileCarouselTrack = document.getElementById('mobileCarouselTrack');
        this.mobileCarouselIndicators = document.getElementById('mobileCarouselIndicators');

        this.radioNames = ['RADIO 1','RADIO 2','RADIO 3','RADIO 4','RADIO 5','RADIO 6'];
        this.carouselRadioUrls = [
            'https://embed.music.apple.com/de/playlist/radio-1/pl.u-55D6ZNlH65KbDqe?l=en',
            'https://embed.music.apple.com/de/playlist/radio-2/pl.u-pMylgxvSWJVDZ9j?l=en',
            'https://embed.music.apple.com/de/playlist/radio-3/pl.u-zPyLl9Rue01ypmo?l=en',
            'https://embed.music.apple.com/de/playlist/radio-4/pl.u-qxylEY6s3maARZy?l=en',
            'https://embed.music.apple.com/de/playlist/radio-5/pl.u-4JomaBmCJLE6Zg0?l=en',
            'https://embed.music.apple.com/de/playlist/radio-6/pl.u-55D6Zq7I65KbDqe?l=en'
        ];

        this.currentCarouselIndex = 0;
        this.carouselSlides = [];
        this.carouselIndicators = [];
        this.isCarouselAnimating = false;

        this.init();
    }

    init() {
        this.setupMobileEvents();
        this.createCarousel();
    }

    createCarousel() {
        this.mobileCarouselTrack.innerHTML = '';
        this.mobileCarouselIndicators.innerHTML = '';
        this.carouselSlides = [];
        this.carouselIndicators = [];

        this.carouselRadioUrls.forEach((url,index)=>{
            const slide = document.createElement('div');
            slide.className='mobile-carousel-slide';
            slide.dataset.index=index;

            const iframe = document.createElement('iframe');
            iframe.className='mobile-carousel-iframe';
            iframe.allow='autoplay *; encrypted-media *;';
            iframe.sandbox='allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation';
            iframe.src=url;

            slide.appendChild(iframe);
            this.mobileCarouselTrack.appendChild(slide);
            this.carouselSlides.push(slide);

            // horizontal swipe handling
            let startX=0,startY=0,isSwiping=false;
            slide.addEventListener('touchstart', e=>{ const t=e.touches[0]; startX=t.clientX; startY=t.clientY; isSwiping=false; }, {passive:true});
            slide.addEventListener('touchmove', e=>{ const t=e.touches[0]; const dx=t.clientX-startX; const dy=t.clientY-startY; if(!isSwiping && Math.abs(dx)>Math.abs(dy)&&Math.abs(dx)>30){ isSwiping=true; dx<0?this.nextCarouselSlide():this.prevCarouselSlide(); } }, {passive:true});

            // indicator
            const indicator=document.createElement('button');
            indicator.className='mobile-carousel-indicator';
            if(index===0) indicator.classList.add('active');
            indicator.addEventListener('click',()=>{ this.goToCarouselSlide(index); });
            this.mobileCarouselIndicators.appendChild(indicator);
            this.carouselIndicators.push(indicator);
        });
    }

    setupMobileEvents() {
        this.mobilePlaylistBtns.forEach(btn=>{
            btn.addEventListener('click',()=>{
                const index=parseInt(btn.dataset.index);
                this.openMobileCarousel(index);
            });
        });

        this.mobileCarouselBackBtn.addEventListener('click',()=>{ this.closeMobileCarousel(); });
    }

    openMobileCarousel(index){
        this.mobilePlaylistBtns.forEach(btn=>btn.classList.remove('active'));
        this.mobilePlaylistBtns[index].classList.add('active');

        this.goToCarouselSlide(index);

        this.mobileContainer.style.display='none';
        this.mobileCarouselContainer.style.display='block';
    }

    closeMobileCarousel(){
        this.mobileCarouselContainer.style.display='none';
        this.mobileContainer.style.display='block';
    }

    goToCarouselSlide(index){
        if(this.isCarouselAnimating || index<0 || index>=this.carouselSlides.length) return;
        this.isCarouselAnimating=true;
        this.currentCarouselIndex=index;
        const translateX=-index*100;
        this.mobileCarouselTrack.style.transform=`translateX(${translateX}%)`;

        this.carouselIndicators.forEach((ind,i)=>i===index?ind.classList.add('active'):ind.classList.remove('active'));
        this.mobileCarouselTitle.textContent=this.radioNames[index];

        setTimeout(()=>{ this.isCarouselAnimating=false; },600);
    }

    nextCarouselSlide(){ this.goToCarouselSlide(this.currentCarouselIndex+1); }
    prevCarouselSlide(){ this.goToCarouselSlide(this.currentCarouselIndex-1); }

    // cube rotation for desktop (optional)
    rotateToFace(faceIndex){
        const angleY=[0, -90, -180, 90, 0, 0];
        const angleX=[0, 0, 0, 0, -90, 90];
        this.cubeContainer.style.transform=`rotateX(${angleX[faceIndex]}deg) rotateY(${angleY[faceIndex]}deg)`;
        // update nav buttons
        document.querySelectorAll('.number-btn').forEach((btn,i)=>i===faceIndex?btn.classList.add('active'):btn.classList.remove('active'));
    }
}

const radioCube=new RadioCube();
</script>
</body>
</html>
